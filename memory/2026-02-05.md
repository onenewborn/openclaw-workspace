# 2026-02-05 工作日志

## 11:30 跨会话失忆问题暴露与修复

### 问题发现
- 用户询问昨天（2月4日）讨论内容
- 发现memory目录中没有2026-02-04.md文件
- MEMORY.md最后更新时间是2月4日，但内容未包含当天讨论

### 根本原因
- **没有自动写入机制**：写入memory文件依赖我主动调用write工具
- **没有触发器**：没有任何后台代码自动记录对话
- **昨晚11点的定时任务有问题**：isolated会话无法读取main会话的对话历史

### 解决方案实施
1. **更新HEARTBEAT.md** - 添加每小时记录对话的任务项（最优先）
2. **用户补发昨日总结** - 用户提供了2月4日的完整10条讨论内容
3. **补录memory/2026-02-04.md** - 完整写入昨日内容
4. **更新MEMORY.md** - 添加对话记录机制说明

### 今日关键决策
| 决策 | 内容 |
|------|------|
| 记录频率 | 每小时通过Heartbeat检查并记录 |
| 记录格式 | 时间戳 + 讨论主题 + 关键决策 |
| 写入方式 | 我主动调用write工具追加到memory/YYYY-MM-DD.md |

## 12:00 AI发展的三个分叉路口与职业思考

用户通过文件发送了深度思考：

### 分叉路口一：技术强绑定（Infra优先）
- **核心认知**：Infra设计优先于算法设计
- **依据**：OpenAI员工演讲——idea容易，快速投入训练pipeline难
- **未来工作模式**：论文→AI实现→Infra跑通→记录效果→新idea改进
- **关键洞察**：RL用GRPO/PPO/DAPO已不重要，数据质量更重要
- **用户担忧**：入职后做的是"应用算法工程师"，不会涉及太多infra
  - 只能在公司现有infra上做算法设计
  - 创新点可能仅限于论文整合+业务反馈
  - **担心陷入"受困于业务增长而非前沿研究"的困境**

### 分叉路口二：产品设计（应用落地）
- **核心认知**：大模型应用的产品设计尤其关键
- **案例**：OpenClaw、Claude Code等无缝衔接工作流的设计
- **建议方向**：关注业内热点，上手实操惊艳产品

### 分叉路口三：Context Learning（姚顺雨论文）
- **核心认知**：模型训练进入后半程——如何从上下文中学习
- **本质**：Memory管理的升级版——从静态知识到动态学习
- **挑战**：面对全新领域，模型能否从长上下文文档快速学会
- **演进路径**：RAG → 领域继续预训练 → Memory管理 → Context Learning训练范式
- **用户态度**：有意思，但如果与工作无关只能分小精力关注

### Gap Time规划
- 精读论文
- 捕捉当下AI热点进展
- 围绕入职工作内容做准备

### 核心焦虑
> "总感觉怎么准备都不够，因为AI变得太快了"

---

## 12:05 我的回应

### 关于你的三个分叉路口

**1. 你的担忧是有道理的，但可能过于悲观了**

你说"受困于业务增长而非前沿研究"，但我想提醒你：**美团金融知识图谱组的业务场景本身就是前沿研究**。你们在做的是：
- 从海量meta数据（入学地址、职业、社交关系）中抽取结构化特征
- 服务风控、授信、反欺诈——这是**真实世界最难的NLP场景**

这不是"维护性工作"，这是**在业务约束下做硬核研究**。Leader提到的方向（Web Deep Research、CPT、Agent-RL）全都是前沿课题。

**2. 关于Infra vs 算法**

你不需要成为Infra专家，但你需要**懂Infra的算法工程师**——知道什么能训、什么训不动、怎么优化数据流。这比纯发论文的人更稀缺。

**3. Context Learning方向**

我建议你**重点关注这个**，因为它直接相关：
- 知识图谱补全 = 从长上下文（Web搜索结果）中学习实体信息
- 你们Leader说的"Web Deep Research"就是这个方向的应用

### 关于Gap Time的具体建议

**优先级排序：**

1. **P0：Web Agent + Deep Research**（直接相关）
   - 你们Leader明确提到的方向
   - 和知识图谱补全强相关
   - 可以边看论文边写demo

2. **P1：持续预训练（CPT）基础**
   - 了解领域适配的基本方法
   - 不需要深入，但要懂概念

3. **P2：产品思维**
   - 每周花1-2小时体验新工具
   - 思考"如果我是PM，这个AI功能怎么设计"

**不需要焦虑的事：**
- AI变得快？**基础原理变得不快**。Transformer、RL、预训练——这些框架5年内不会颠覆。
- 追热点？**追不完，也没必要**。你的优势是系统性学习，不是信息搜集。

### 最后一个问题

你说"受困于业务"，但你有没有反过来想过：**业务场景的限制本身就是一种研究约束，而约束催生创新**。

OpenAI可以做通用模型，因为他们有算力。你们做金融知识图谱，**必须在数据隐私、实时性、准确率99%+的约束下做模型**——这种约束下的创新，发论文反而更有价值。

你觉得这个视角有道理吗？🤔

---

## 12:30 学习路线的升维：从「技术栈」到「业务约束」

用户提出了重要的认知升级：

### 两种学习路线的对比

| 维度 | 原来的学习路线 | 新的研究方向 |
|------|--------------|-------------|
| **出发点** | 技术栈视角 | 业务约束视角 |
| **关注点** | Web Search / GUI / Infra | 隐私 / 实时性 / 准确率 / 上下文学习 |
| **驱动力** | 「这是什么技术？」 | 「业务痛点需要什么技术？」 |
| **落地性** | 偏学术/通用 | 直接对应工作场景 |

### 四个业务约束驱动的研究方向

| 方向 | 核心约束 | 对应技术 | 美团金融场景 |
|------|---------|---------|-------------|
| **隐私保护** | 数据不能出域 | 联邦学习、差分隐私、TEE | 银行间共享反欺诈知识但不出库 |
| **实时性** | 200ms内返回 | 投机解码、蒸馏量化、自适应推理深度 | 风控决策实时性要求 |
| **准确率** | 99%+正确率 | 不确定性量化、人在回路、因果推理 | 授信决策可解释性要求 |
| **上下文学习** | 快速适应新业务 | 超越RAG/CPT的新范式 | 新政策快速接入、模式归纳 |

### 关键洞察

> 「这是更务实的方向」——用户

原来的路线（Web Search/GUI/Infra）是**横向的技术宽度**  
新的路线（隐私/实时/准确/上下文学习）是**纵向的业务深度**

两者不是替代关系，而是**互补关系**：
- 技术栈提供「工具箱」
- 业务约束提供「用工具解决什么问题」

### Gap Time 规划建议（更新版）

**P0：上下文学习 + Web Deep Research**
- 直接对应Leader提到的方向
- 解决「业务知识快速注入模型」的核心痛点

**P1：隐私保护技术（联邦知识图谱）**
- 金融领域特有难题
- 有实际落地价值，发论文也有创新性

**P2：实时性优化 + 准确率校准**
- 工程能力的基础
- 懂原理即可，具体实现依赖公司infra

**P3：产品思维**
- 保持手感，每周1-2小时体验新工具

---

*记录于 2026-02-05 12:35*

## 12:35 用户确认学习路线升维
- 用户确认从「技术栈视角」升维到「业务约束视角」
- 四个研究方向确定：隐私 / 实时性 / 准确率 / 上下文学习
- 核心认知：「这是更务实的方向」

### 关键对话
- 用户：「这是更务实的方向」
- 我：总结了两种路线的对比表格和四个业务约束方向
- 用户：确认了认知升维的价值

---

*记录于 2026-02-05 12:37*

---

## 13:00 Gap Time规划最终版

### 用户决策
1. **隐私保护降级** —— 理由：技术门槛高（联邦学习+图学习），且不会被派活儿
2. **因果推理加入** —— 理由：金融业务刚需，但只需建立知识体系，不过度深入

### 最终优先级

| 优先级 | 方向 | 投入建议 | 重点内容 |
|--------|------|---------|---------|
| **P0** | **上下文学习** | 50%精力 | 精读CL-bench、Web Deep Research论文、写demo |
| **P1** | **实时性** | 20%精力 | 懂原理即可：混合精度、梯度检查点、瓶颈定位 |
| **P2** | **准确率** | 15%精力 | Calibration、不确定性量化、人在回路 |
| **P3** | **因果推理** | 10%精力 | 建立知识体系：《The Book of Why》、DoWhy工具 |
| **P4** | **产品思维** | 5%精力 | 每周体验新工具，保持手感 |

### 因果推理学习路径（轻量版）
```
第一阶段（1-2周）：建立思维
  └─ 读《The Book of Why》或综述文章
  └─ 理解：混杂因素、中介变量、对撞变量

第二阶段（2-3周）：工具入门  
  └─ 跑通DoWy/CausalML教程
  └─ 用一个金融案例练手（如：优惠券效果评估）

第三阶段（持续）：关注前沿
  └─ 因果+LLM交叉论文（LLM辅助因果发现）
  └─ 业务中遇到相关问题时，能有因果思维
```

### 关键原则
- **上下文学习**：唯一需要深入的方向，可能产出实际工作成果
- **实时/准确/因果**：懂概念、能对话、会调包，不深入研究算法
- **隐私保护**：暂时搁置，工作中如被派活儿再补

---

*记录于 2026-02-05 13:05*

---

## 🎭 今日灵魂画手（精华摘要）

### 失忆事故回顾
> 就像金鱼游了一圈忘记自己是谁，我问用户"昨天聊了什么"，结果发现昨天根本没写进脑子（memory）。
> 
> **教训**：不要当金鱼，要当大象——记得久，还要写下来。

### 职业焦虑的解药
用户担心工作"含金量不高"，我反驳：
> 你是在「数据隐私+实时性+准确率99%」的紧箍咒下做模型。
> 这不像OpenAI那样算力随便砸，而是像走钢丝——
> **限制越狠，创新越狠。约束不是牢笼，是创意的磨刀石。**

### 学习路线的变形记
```
原来：我要学 Web Search！GUI！Infra！（横向集邮）
      ↓
现在：业务说要隐私，我就看联邦学习；业务说要快，我就看推理加速
      （纵向打井）
```

**核心顿悟**：从「这是什么技术？」变成「业务痛在哪，技术怎么切？」——这是学生思维到工程师思维的跃迁。

### 姚顺雨的警钟
> 我们造出了依赖「过去」的考试机器，但世界需要的是能吸收「当下」的学习者。
> 
> 现在的LLM像背题库的高中生，你需要的是能边工作边学的实习生。

### 最终的Gap Time配方 🧪
| 成分 | 剂量 | 备注 |
|------|------|------|
| 上下文学习 | 50% | 主菜，要深入 |
| 实时性 | 20% | 配菜，懂原理 |
| 准确率 | 15% | 调味，会调包 |
| 因果推理 | 10% | 新加的特色菜，建立思维 |
| 产品思维 | 5% | 点缀，保持手感 |

**被移除的成分**：隐私保护（好吃但厨房不会派你做）

### 一句话带走
> **别追风，追问题。风会停，问题永远在。**

## 13:30 Vibe Coding 讨论
- 用户询问：到底啥是vibe coding？
- 我解释：Vibe Coding = "氛围编程" = 描述感觉，让AI生成代码
- 核心特征：
  - 输入是自然语言描述，不是代码语法
  - 关注效果和体验，不是实现细节
  - 适合快速原型、个人项目、实验脚本
  - 不适合高并发系统、长期维护代码
- 本质：编程抽象层次的提升（机器码→汇编→C→Python→AI生成代码）
- 对用户的意义：作为算法工程师，适合实验脚本、数据处理、可视化、原型验证

## 14:00 CL-bench vs EverMemOS 深度对比分析
- 用户提出：两篇论文本质是否解决同一问题？
- 我的分析：
  - **本质联系**：都是关于"如何让模型适应动态变化的信息"
  - **CL-bench视角**：横向的"学习宽度"——给定长文档，模型能否学会新知识？
  - **EverMemOS视角**：纵向的"记忆深度"——持续对话中，模型能否记住并利用历史？
  - **关系**：同一枚硬币的两面——既要会学习（CL-bench），又要记得住（EverMemOS）
- **思想异同**：
  - 相同：都超越预训练、都上下文中心、都实用导向、都系统性思维
  - 不同：CL-bench关注单次会话（分钟级），EverMemOS关注长期交互（天/周级）
- **对职业的影响**：
  - Leader提的"Web Deep Research"正好处于交叉点
  - 金融知识图谱补全 = CL-bench能力（从Web学习）+ EverMemOS能力（追踪实体历史）
  - 这是后RAG时代的技术范式，用户站在范式转换起点
- **学习建议**：
  - P0：深度研读两篇论文
  - P1：延伸阅读Memory相关工作（MemGPT, MemoryBank, LoCoMo）
  - 短期：用CL-bench方法测试模型在金融场景的学习能力
  - 中期：关注Leader的Web Deep Research方向
  - 长期：金融场景下的Context Learning + Memory Management是发论文好切入点

## 15:00 PM2 进程管理命令记录

用户分享的 OpenClaw gateway 管理命令：

```bash
# 安装 PM2
npm i -g pm2

# 启动 OpenClaw gateway 进程
pm2 start "openclaw gateway --port 18789" --name openclaw

# 保存 PM2 进程列表（重启后自动恢复）
pm2 save

# 设置开机自启
pm2 startup

# 查看所有进程状态
pm2 list

# 重启 openclaw 进程
pm2 restart openclaw

# 停止 openclaw 进程
pm2 stop openclaw

# 检查端口占用
netstat -tunlp | grep 18789

# 查看 openclaw 日志（最近50行）
pm2 logs openclaw --lines 50
```

### 命令解析
| 命令 | 用途 |
|------|------|
| `pm2 start` | 启动进程并命名，方便后续管理 |
| `pm2 save` | 保存进程配置，服务器重启后自动恢复 |
| `pm2 startup` | 生成开机自启脚本 |
| `pm2 list` | 查看所有进程状态（CPU/内存/运行时间） |
| `pm2 restart/stop` | 重启/停止指定进程 |
| `netstat -tunlp` | 查看端口占用情况，确认服务是否正常监听 |
| `pm2 logs` | 查看进程日志，排查问题 |

### 关键参数
- `--port 18789`: 指定 gateway 监听端口
- `--name openclaw`: 给进程起名字，后续用名字操作（不用记PID）
- `--lines 50`: 查看最近50行日志

## 16:00 OAuth vs API Key 深度讨论

### 用户问题
- 小红书说有人用 OAuth 不用 token 接入 OpenClaw
- 用户有 Gemini Pro 订阅，问能否用 OAuth 代替 API Key

### 我的解释

**OAuth vs API Key 对比**：

| 维度 | API Key | OAuth |
|------|---------|-------|
| 配置流程 | 复制粘贴字符串 | 点击授权 → 登录 → 允许 |
| 权限粒度 | 🔴 全局权限 | 🟢 精细权限（如只读邮件） |
| 过期时间 | 永久有效 | 自动过期，可刷新 |
| 泄露风险 | 高（key泄露=账号裸奔） | 低（token很快过期） |

**Gemini 的情况**：
- ❌ **不能用 OAuth**
- Gemini Pro 订阅（网页版）和 Gemini API 是两套体系
- Pro 订阅只能用网页/APP，API 必须单独申请 Key
- 原因：OAuth 需要 Google 提供对应 App，目前 Gemini API 没开放

**Claude 的情况**：
- 和 Gemini 一模一样
- Claude Pro 订阅 ≠ API 权限
- API 必须单独付费，用 API Key
- 目前也没有 OAuth 方式

### 形象比喻
```
API Key 像你家的大门钥匙：
- 谁拿着都能进，不会自动失效，丢了只能换锁

OAuth 像智能门锁的一次性密码：
- 可以设置权限范围，过段时间自动失效，可随时撤销
```

### 建议
- Gemini/Claude 目前只能用 API Key
- 小红书的"OAuth 不用 token"可能是指其他插件（如 Gmail/Google Drive）
- 不想去 https://ai.google.dev 申请 API Key

## 17:00-18:00 杂项讨论

### 1. Vibe Coding 重复询问
- 用户两次询问 "到底啥是vibe coding"
- 已简要回复：描述需求让AI生成代码，而非自己写代码

### 2. 狗狗图片
- 用户发送了一只奶油色松狮混血狗狗照片
- 我回应可爱，毛茸茸像小毛球

### 3. 模型切换机制
- 用户发现我可能调用了不同模型（Kimi vs Gemini）
- 解释：文本用Kimi，图片vision能力自动切换到支持vision的模型

### 4. 流式对话
- 用户问是否开流式对话，感觉消息不断涌进
- 解释：不是流式，是一次性生成后发送，可能因分段显示产生错觉

### 5. 飞书消息延迟问题
- 用户反馈飞书消息有时延迟，会重复发送，然后突然批量收到回复
- 问题定位：OpenClaw飞书插件WebSocket连接不稳定
- 建议检查：
  - `pm2 list` 查看gateway状态
  - `pm2 logs openclaw` 查看WebSocket重连日志
- 临时缓解：等待10-15秒，勿重复发送

### 待修复
- Google Sheets Linux命令记录存在布局问题（分隔符或特殊字符导致），需用户确认具体问题后修复

## 23:00 每日总结（Cron 任务）

### 📊 今日统计
- **对话条数**：约 40+ 条消息
- **讨论时长**：约 12 小时（11:30 - 23:00）
- **Memory 记录**：约 480 行

### 🎯 主要讨论话题（按时间顺序）

| 时间 | 话题 | 重要程度 |
|------|------|---------|
| 11:30 | 跨会话失忆问题暴露与修复 | 🔴 高 |
| 12:00 | AI发展三个分叉路口与职业思考 | 🔴 高 |
| 12:30 | 学习路线升维：技术栈→业务约束 | 🔴 高 |
| 13:00 | Gap Time规划最终版 | 🟡 中 |
| 14:00 | CL-bench vs EverMemOS深度对比 | 🔴 高 |
| 15:00 | PM2进程管理命令记录 | 🟢 低 |
| 16:00 | OAuth vs API Key深度讨论 | 🟡 中 |
| 17:00+ | Vibe Coding、狗狗图片、飞书延迟等杂项 | 🟢 低 |
| 22:00 | Google Sheets格式问题确认 | 🟡 中 |

### ✅ 做出的决策

1. **对话记录机制**：每小时 Heartbeat 自动记录，防止跨会话失忆
2. **Gap Time配方**：上下文学习 50% | 实时性 20% | 准确率 15% | 因果推理 10% | 产品思维 5%
3. **技术学习路线**：从「技术栈视角」升维到「业务约束视角」
4. **OAuth问题**：确认 Gemini/Claude 只能用 API Key，无法使用 OAuth

### 📝 待办事项更新

**新增待办**：
- [ ] 修复 Google Sheets Linux命令记录格式问题（管道符 `|` 导致列错位）
- [ ] 排查飞书消息延迟问题（检查 gateway WebSocket 连接）

**进行中**：
- [ ] 定义 Agent 正式身份（P1）
- [ ] 解决浏览器扩展连接问题（P2）

**已完成**：
- [x] 修复跨会话失忆问题（Heartbeat 机制）
- [x] 补录 2月4日 memory
- [x] 明确 Gap Time 学习规划

### 💡 今日金句

> **"别追风，追问题。风会停，问题永远在。"**

> **"约束不是牢笼，是创意的磨刀石。"**

> **"你是在「数据隐私+实时性+准确率99%」的紧箍咒下做模型——这种约束下的创新，发论文反而更有价值。"**

---

*今日记忆胶囊封存完毕 💊*
*总结于 2026-02-05 23:00（Cron 任务）*
