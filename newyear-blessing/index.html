<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ–°æ˜¥ç¥ç¦ Â· ä¸‡äº‹èƒœæ„</title>
  <style>
    :root {
      --gold: #ffd777;
      --red: #8b0000;
      --red2: #c1121f;
      --bg1: #1a0000;
      --bg2: #3b0000;
    }
    * { box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%; margin: 0;
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
      color: #fff;
      background: radial-gradient(circle at 50% 20%, #5e0000 0%, var(--bg1) 35%, #090000 100%);
      overflow: hidden;
    }
    #fireworks {
      position: fixed; inset: 0; z-index: 1;
      filter: saturate(120%);
    }
    .overlay {
      position: fixed; inset: 0; z-index: 2;
      background: linear-gradient(to bottom, rgba(0,0,0,0.15), rgba(0,0,0,0.5));
      pointer-events: none;
    }
    .container {
      position: relative;
      z-index: 3;
      width: min(920px, 92vw);
      margin: 5vh auto 0;
      padding: 30px 26px 26px;
      border: 1px solid rgba(255,215,119,.4);
      border-radius: 24px;
      background: rgba(60,0,0,.45);
      box-shadow: 0 10px 40px rgba(0,0,0,.45), inset 0 0 35px rgba(255,180,80,.08);
      backdrop-filter: blur(6px);
      text-align: center;
      animation: floatIn .9s ease;
    }
    @keyframes floatIn {
      from { opacity: 0; transform: translateY(22px) scale(.98); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    .title {
      font-size: clamp(30px, 5vw, 56px);
      margin: 2px 0 8px;
      letter-spacing: 2px;
      color: var(--gold);
      text-shadow: 0 0 15px rgba(255,215,119,.5), 0 0 30px rgba(255,120,0,.2);
    }
    .subtitle {
      font-size: clamp(15px, 2.4vw, 20px);
      opacity: .95;
      margin-bottom: 16px;
    }
    .bless {
      min-height: 4.8em;
      font-size: clamp(18px, 3.2vw, 28px);
      line-height: 1.75;
      margin: 14px auto 18px;
      width: min(760px, 95%);
      color: #fff7e5;
      text-shadow: 0 2px 18px rgba(0,0,0,.4);
    }
    .controls {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    button {
      border: 0;
      border-radius: 999px;
      padding: 11px 18px;
      cursor: pointer;
      font-size: 15px;
      color: #4a0000;
      background: linear-gradient(180deg, #ffe8ad, #ffd777);
      box-shadow: 0 6px 16px rgba(0,0,0,.25);
      transition: transform .12s ease, filter .2s ease;
      font-weight: 700;
    }
    button:hover { transform: translateY(-1px); filter: brightness(1.05); }
    button:active { transform: translateY(1px); }
    .small { font-size: 13px; opacity: .85; margin-top: 14px; }
    .lantern {
      position: fixed; top: 18px; width: 56px; z-index: 4;
      animation: sway 3.5s ease-in-out infinite;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,.4));
    }
    .lantern.left { left: 20px; }
    .lantern.right { right: 20px; animation-delay: .8s; }
    @keyframes sway {
      0%,100% { transform: rotate(3deg) translateY(0); }
      50% { transform: rotate(-3deg) translateY(4px); }
    }
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>
  <div class="overlay"></div>

  <svg class="lantern left" viewBox="0 0 64 90" fill="none" aria-hidden="true">
    <rect x="24" y="0" width="16" height="8" fill="#d8b15b"/>
    <ellipse cx="32" cy="42" rx="24" ry="32" fill="#d11f2f"/>
    <ellipse cx="32" cy="42" rx="16" ry="30" fill="#f4b942" fill-opacity=".25"/>
    <rect x="28" y="74" width="8" height="10" fill="#d8b15b"/>
    <path d="M32 84v6" stroke="#d8b15b" stroke-width="2"/>
  </svg>
  <svg class="lantern right" viewBox="0 0 64 90" fill="none" aria-hidden="true">
    <rect x="24" y="0" width="16" height="8" fill="#d8b15b"/>
    <ellipse cx="32" cy="42" rx="24" ry="32" fill="#d11f2f"/>
    <ellipse cx="32" cy="42" rx="16" ry="30" fill="#f4b942" fill-opacity=".25"/>
    <rect x="28" y="74" width="8" height="10" fill="#d8b15b"/>
    <path d="M32 84v6" stroke="#d8b15b" stroke-width="2"/>
  </svg>

  <main class="container">
    <h1 class="title">æ–° å¹´ å¿« ä¹ Â· ä¸‡ äº‹ èƒœ æ„</h1>
    <div class="subtitle">æ„¿æ–°çš„ä¸€å¹´ï¼Œæ‰€è¡Œçš†å¦é€”ï¼Œæ‰€å¿µçš†å¯å¾—ã€‚</div>
    <div class="bless" id="blessText"></div>
    <div class="controls">
      <button id="nextBtn">æ¢ä¸€å¥ç¥ç¦ âœ¨</button>
      <button id="copyBtn">å¤åˆ¶ç¥ç¦ ğŸ“‹</button>
      <button id="fullBtn">å…¨å±çƒŸèŠ± ğŸ†</button>
    </div>
    <div class="small">ä¸€é”®æ‰“å¼€å³å¯ä½¿ç”¨ Â· å¯æˆªå›¾/å½•å±å‘äº²å‹</div>
  </main>

  <script>
    const lines = [
      'æ–°çš„ä¸€å¹´ï¼Œæ„¿ä½ çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒä¸­æœ‰çˆ±ï¼Œè„šä¸‹æœ‰è·¯ï¼Œè¿œæ–¹æœ‰æ¢¦ã€‚',
      'æ„¿æ‰€æœ‰å¥”èµ´éƒ½æœ‰æ„ä¹‰ï¼Œæ‰€æœ‰ç­‰å¾…éƒ½æœ‰å›éŸ³ï¼Œæ‰€æœ‰åŠªåŠ›ç»ˆæœ‰å›æŠ¥ã€‚',
      'æ„¿ä½ æŠŠä»Šå¹´çš„é—æ†¾ï¼Œç‚¼æˆæ˜å¹´çš„æƒŠå–œï¼›æŠŠä»Šå¤©çš„å‹‡æ°”ï¼Œå˜æˆæ˜å¤©çš„åº•æ°”ã€‚',
      'æ„¿ä½ ä¸å®¶äººå¸¸ä¼´ï¼Œå’Œçˆ±äººå¸¸æ¬¢ï¼Œä¸æœ‹å‹å¸¸è§ï¼Œå’Œè‡ªå·±å¸¸å’Œè§£ã€‚',
      'æ„¿ä½ æ‰€æ„¿çš†æˆçœŸï¼Œæ‰€è¡Œçš†å¦è¡ï¼Œæ‰€é‡çš†è‰¯äººï¼Œæ‰€æ±‚çš†å¦‚æ„¿ã€‚',
      'æ„¿ä½ æ–°å²æ— å¿§ï¼Œå²å²æ¬¢æ„‰ï¼Œå¹³å®‰å–œä¹ï¼Œä¸‡äº‹èƒœæ„ã€‚'
    ];

    const blessEl = document.getElementById('blessText');
    const nextBtn = document.getElementById('nextBtn');
    const copyBtn = document.getElementById('copyBtn');
    const fullBtn = document.getElementById('fullBtn');

    let idx = Math.floor(Math.random() * lines.length);

    function typeLine(text) {
      blessEl.textContent = '';
      let i = 0;
      const timer = setInterval(() => {
        blessEl.textContent += text[i++] || '';
        if (i > text.length) clearInterval(timer);
      }, 36);
    }

    nextBtn.onclick = () => {
      idx = (idx + 1) % lines.length;
      typeLine(lines[idx]);
      burst(Math.random() * innerWidth, Math.random() * innerHeight * .5, 90);
    };

    copyBtn.onclick = async () => {
      try {
        await navigator.clipboard.writeText(lines[idx]);
        copyBtn.textContent = 'å·²å¤åˆ¶ âœ…';
      } catch {
        copyBtn.textContent = 'å¤åˆ¶å¤±è´¥ï¼ˆè¯·æ‰‹åŠ¨å¤åˆ¶ï¼‰';
      }
      setTimeout(() => copyBtn.textContent = 'å¤åˆ¶ç¥ç¦ ğŸ“‹', 1400);
    };

    fullBtn.onclick = async () => {
      if (!document.fullscreenElement) {
        await document.documentElement.requestFullscreen?.();
      }
      burst(innerWidth * .4, innerHeight * .35, 140);
      burst(innerWidth * .6, innerHeight * .45, 140);
    };

    // Fireworks
    const c = document.getElementById('fireworks');
    const ctx = c.getContext('2d');
    let W, H, particles = [];

    function resize() {
      W = c.width = innerWidth * devicePixelRatio;
      H = c.height = innerHeight * devicePixelRatio;
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    addEventListener('resize', resize); resize();

    function burst(x, y, n=85) {
      const hue = Math.random() * 60 + 20; // gold/red range
      for (let i=0; i<n; i++) {
        const a = Math.random() * Math.PI * 2;
        const v = Math.random() * 3.2 + 1.2;
        particles.push({
          x, y,
          vx: Math.cos(a) * v,
          vy: Math.sin(a) * v,
          life: Math.random() * 70 + 45,
          r: Math.random() * 2.4 + .8,
          color: `hsl(${hue + (Math.random()*24-12)} 98% ${58+Math.random()*10}%)`
        });
      }
    }

    function tick() {
      ctx.fillStyle = 'rgba(10,0,0,.18)';
      ctx.fillRect(0,0,innerWidth,innerHeight);

      for (let i=particles.length-1; i>=0; i--) {
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += .02;
        p.vx *= .992;
        p.life -= 1;

        ctx.globalAlpha = Math.max(p.life/100, 0);
        ctx.fillStyle = p.color;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        if (p.life <= 0) particles.splice(i,1);
      }
      ctx.globalAlpha = 1;

      if (Math.random() < 0.055) burst(Math.random()*innerWidth, Math.random()*innerHeight*0.55, 65 + Math.random()*35);
      requestAnimationFrame(tick);
    }

    typeLine(lines[idx]);
    burst(innerWidth*.25, innerHeight*.35, 120);
    burst(innerWidth*.75, innerHeight*.30, 120);
    tick();
  </script>
</body>
</html>